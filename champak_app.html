<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Champak Comics</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700;800&family=Lilita+One&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{height:100%;overflow:hidden;}
body{font-family:'Baloo 2',cursive;background:#FFD84D;}

/* â•â•â• PAGE SYSTEM â•â•â• */
.page{display:none;position:fixed;inset:0;flex-direction:column;}
.page.active{display:flex;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SPLASH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#pgSplash{
  background:linear-gradient(180deg,#FFE566 0%,#FFD000 55%,#7DC42A 100%);
  align-items:center;justify-content:center;
  transition:opacity .9s;z-index:999;
}
#pgSplash.hide{opacity:0;pointer-events:none;}

/* clouds */
.cloud{position:absolute;background:white;border-radius:50px;opacity:.92;}
.cloud::before,.cloud::after{content:'';position:absolute;background:white;border-radius:50%;}
.c1{width:80px;height:26px;top:7%;left:4%}
.c1::before{width:38px;height:38px;top:-17px;left:8px}
.c1::after{width:28px;height:28px;top:-10px;left:38px}
.c2{width:110px;height:32px;top:10%;right:6%}
.c2::before{width:52px;height:52px;top:-24px;left:12px}
.c2::after{width:38px;height:38px;top:-16px;left:56px}
.c3{width:65px;height:22px;top:22%;left:55%}
.c3::before{width:32px;height:32px;top:-14px;left:6px}
.c3::after{width:24px;height:24px;top:-8px;left:30px}

.sp-star{position:absolute;animation:starPop 2.5s ease-in-out infinite;}
@keyframes starPop{0%,100%{transform:scale(1) rotate(0)}50%{transform:scale(1.35) rotate(18deg)}}

.sp-chars{position:relative;z-index:2;animation:charBounce 1.1s ease-in-out infinite;}
@keyframes charBounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-16px)}}

.sp-title-hi{font-family:'Lilita One',cursive;font-size:76px;background:linear-gradient(180deg,#FF2200,#FF6600);-webkit-background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(3px 3px 0 rgba(0,0,0,.12));line-height:1;position:relative;z-index:2;}
.sp-title-en{font-family:'Lilita One',cursive;font-size:38px;color:#1A6EBF;text-shadow:2px 2px 0 rgba(255,255,255,.4);letter-spacing:2px;margin-top:-8px;position:relative;z-index:2;}

.sp-dots{display:flex;gap:10px;margin-top:36px;z-index:2;position:relative;}
.sp-dot{width:14px;height:14px;background:white;border-radius:50%;box-shadow:0 2px 6px rgba(0,0,0,.2);animation:dotJ .7s ease-in-out infinite;}
.sp-dot:nth-child(2){animation-delay:.15s}.sp-dot:nth-child(3){animation-delay:.3s}
@keyframes dotJ{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

.sp-grass{position:absolute;bottom:0;left:0;right:0;height:170px;pointer-events:none;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   COMMON HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.app-hdr{
  background:linear-gradient(135deg,#FFD700,#FFC200);
  padding:10px 14px;display:flex;align-items:center;gap:10px;
  border-bottom:3px solid #E8A800;
  box-shadow:0 3px 12px rgba(200,150,0,.3);
  flex-shrink:0;position:relative;overflow:hidden;
}
.hdr-deco{position:absolute;top:4px;right:60px;font-size:16px;animation:starPop 2s ease-in-out infinite;}
.hdr-deco2{position:absolute;top:8px;right:100px;font-size:12px;animation:starPop 2.5s ease-in-out infinite reverse;}
.hdr-icon-box{flex-shrink:0;width:50px;height:50px;background:white;border-radius:14px;display:flex;align-items:center;justify-content:center;border:2px solid #E8A800;box-shadow:0 3px 8px rgba(0,0,0,.1);}
.hdr-title{font-family:'Lilita One',cursive;font-size:21px;color:#CC4400;line-height:1;text-shadow:1px 1px 0 rgba(255,255,255,.5);}
.hdr-sub{font-size:10px;color:#886600;font-weight:700;letter-spacing:.5px;}
.hdr-action{background:rgba(255,255,255,.4);border:2px solid rgba(255,255,255,.6);color:#884400;width:38px;height:38px;border-radius:12px;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
.hdr-action.spin{animation:spin .6s linear;}
.hdr-back{background:rgba(255,255,255,.4);border:2px solid rgba(255,255,255,.6);color:#884400;width:38px;height:38px;border-radius:12px;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
@keyframes spin{to{transform:rotate(360deg)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HOME PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#pgHome{background:#FFF5C0;overflow:hidden;}
#homeContent{flex:1;overflow-y:auto;padding-bottom:76px;}
#homeContent::-webkit-scrollbar{width:0;}

/* Section header */
.sec-hdr{display:flex;align-items:center;justify-content:space-between;padding:14px 14px 6px;}
.sec-title{font-family:'Lilita One',cursive;font-size:17px;color:#333;}
.see-all-btn{font-size:12px;color:#FF6B00;font-weight:700;background:rgba(255,107,0,.1);padding:4px 10px;border-radius:10px;cursor:pointer;border:none;font-family:'Baloo 2',cursive;}

/* Filters */
.filters{display:flex;gap:7px;padding:0 14px 10px;overflow-x:auto;}
.filters::-webkit-scrollbar{display:none;}
.fbtn{padding:7px 16px;border-radius:20px;border:none;cursor:pointer;font-family:'Baloo 2',cursive;font-size:12px;font-weight:700;white-space:nowrap;flex-shrink:0;transition:transform .1s;}
.fbtn:active{transform:scale(.95);}
.fbtn.active{background:linear-gradient(135deg,#00CC44,#009933);color:white;box-shadow:0 3px 8px rgba(0,150,50,.3);}
.fbtn.cat-funny{background:linear-gradient(135deg,#FF8C00,#FF5500);color:white;}
.fbtn.cat-animal{background:linear-gradient(135deg,#0088FF,#0055CC);color:white;}
.fbtn.cat-moral{background:linear-gradient(135deg,#BB44FF,#8811EE);color:white;}
.fbtn.cat-adventure{background:linear-gradient(135deg,#FFCC00,#FF9900);color:white;}
.fbtn.off{background:rgba(255,255,255,.7);color:#777;border:2px solid rgba(0,0,0,.08);}

/* Horizontal scroll cards */
.h-scroll{display:flex;gap:10px;padding:0 14px 6px;overflow-x:auto;}
.h-scroll::-webkit-scrollbar{display:none;}
.hcard{flex-shrink:0;width:120px;background:white;border-radius:16px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.12);border:2px solid rgba(255,200,0,.2);animation:cin .4s ease both;cursor:pointer;}
@keyframes cin{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
.hcard:active{transform:scale(.94);}
.hcard-thumb{height:92px;position:relative;overflow:hidden;}
.hcard-thumb img{width:100%;height:100%;object-fit:cover;display:block;}
.hcard-fb{width:100%;height:100%;display:none;align-items:center;justify-content:center;font-size:30px;}
.hcard-info{padding:6px 8px 8px;}
.hcard-name{font-size:10px;font-weight:700;color:#333;line-height:1.3;margin-bottom:5px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
.read-btn{width:100%;padding:5px;background:linear-gradient(135deg,#FF7700,#FF4400);color:white;border:none;border-radius:8px;font-family:'Lilita One',cursive;font-size:11px;box-shadow:0 3px 0 #CC3300;cursor:pointer;letter-spacing:.3px;}
.read-btn:active{transform:translateY(2px);box-shadow:0 1px 0 #CC3300;}

/* Library grid */
.lib-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:0 14px;}
.lcard{background:white;border-radius:14px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.12);cursor:pointer;border:2px solid rgba(255,200,0,.15);animation:cin .4s ease both;}
.lcard:active{transform:scale(.95);}
.lcard-thumb{height:88px;position:relative;overflow:hidden;}
.lcard-thumb img{width:100%;height:100%;object-fit:cover;}
.lcard-fb{width:100%;height:100%;display:none;align-items:center;justify-content:center;font-size:26px;}
.lcat{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-family:'Lilita One',cursive;font-size:12px;color:white;text-align:center;line-height:1.2;text-shadow:1px 1px 0 rgba(0,0,0,.3);padding:4px;background:linear-gradient(to bottom,transparent 20%,rgba(0,0,0,.3));}
.lcard-info{padding:5px 7px 7px;}
.lcard-name{font-size:9px;font-weight:700;color:#333;line-height:1.2;margin-bottom:4px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}

/* Audio Stories teaser on home */
.audio-teaser{
  margin:14px;border-radius:20px;overflow:hidden;
  background:linear-gradient(135deg,#0088FF,#0044AA);
  padding:16px;display:flex;align-items:center;gap:14px;
  box-shadow:0 6px 0 #0033AA,0 8px 20px rgba(0,80,200,.3);
  border:3px solid rgba(255,255,255,.2);cursor:pointer;
}
.audio-teaser:active{transform:scale(.98);}
.at-char{flex-shrink:0;animation:charBounce 2s ease-in-out infinite;}
.at-text h3{font-family:'Lilita One',cursive;color:#FFE566;font-size:20px;text-shadow:1px 1px 0 rgba(0,0,0,.2);}
.at-text p{color:rgba(255,255,255,.85);font-size:12px;margin-top:4px;}
.at-play{margin-top:10px;padding:8px 20px;background:#FFE566;color:#0044AA;border:none;border-radius:12px;font-family:'Lilita One',cursive;font-size:13px;cursor:pointer;box-shadow:0 3px 0 #E8C800;}

/* Bottom nav */
#bottomNav{
  position:fixed;bottom:0;left:0;right:0;height:72px;
  background:linear-gradient(180deg,#FFE566,#FFD700);
  border-top:3px solid #E8A800;
  display:flex;align-items:center;
  box-shadow:0 -4px 16px rgba(200,150,0,.25);
  z-index:50;
}
.nav-item{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;cursor:pointer;padding:6px 4px;}
.nav-ico{width:40px;height:40px;border-radius:13px;display:flex;align-items:center;justify-content:center;font-size:19px;transition:transform .1s;}
.nav-item.active .nav-ico{background:linear-gradient(135deg,#FF7700,#FF4400);box-shadow:0 4px 10px rgba(255,100,0,.4);}
.nav-item:not(.active) .nav-ico{background:rgba(255,255,255,.5);}
.nav-label{font-size:10px;font-weight:700;color:#884400;}
.nav-item.active .nav-label{color:#CC4400;}
.nav-item:active .nav-ico{transform:scale(.88);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SEE ALL PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#pgSeeAll{background:#FFF5C0;}
#seeAllContent{flex:1;overflow-y:auto;padding:14px;}
#seeAllContent::-webkit-scrollbar{width:0;}
.all-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.acard{background:white;border-radius:18px;overflow:hidden;box-shadow:0 5px 16px rgba(0,0,0,.1);cursor:pointer;border:2px solid rgba(255,200,0,.15);animation:cin .4s ease both;}
.acard:active{transform:scale(.95);}
.acard-thumb{height:140px;position:relative;overflow:hidden;}
.acard-thumb img{width:100%;height:100%;object-fit:cover;}
.acard-fb{width:100%;height:100%;display:none;align-items:center;justify-content:center;font-size:44px;}
.acard-ov{position:absolute;inset:0;background:linear-gradient(to bottom,transparent 40%,rgba(0,0,0,.45));}
.acard-date{position:absolute;top:8px;right:8px;background:#FFE100;color:#8B1A00;font-size:9px;font-weight:800;padding:3px 8px;border-radius:10px;}
.acard-pages{position:absolute;bottom:8px;left:8px;background:rgba(0,0,0,.55);color:white;font-size:9px;padding:2px 7px;border-radius:6px;}
.acard-info{padding:10px 12px 12px;}
.acard-name{color:#2a0a00;font-size:13px;font-weight:800;line-height:1.3;margin-bottom:8px;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AUDIO STORIES PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#pgAudio{background:#E8F4FF;}
#audioContent{flex:1;overflow-y:auto;padding:14px;}
#audioContent::-webkit-scrollbar{width:0;}

.audio-banner{
  background:linear-gradient(135deg,#0088FF,#0044AA);
  border-radius:20px;padding:18px;margin-bottom:16px;
  display:flex;align-items:center;gap:14px;
  box-shadow:0 6px 0 #0033AA;border:3px solid rgba(255,255,255,.2);
}
.audio-banner-char{flex-shrink:0;}
.audio-banner h2{font-family:'Lilita One',cursive;color:#FFE566;font-size:22px;}
.audio-banner p{color:rgba(255,255,255,.85);font-size:12px;margin-top:4px;}

.audio-card{
  background:white;border-radius:18px;padding:14px 16px;
  display:flex;align-items:center;gap:14px;margin-bottom:12px;
  box-shadow:0 4px 14px rgba(0,0,0,.1);cursor:pointer;
  border:2px solid rgba(0,150,255,.1);
  transition:transform .1s;
}
.audio-card:active{transform:scale(.97);}
.audio-icon{
  width:54px;height:54px;border-radius:14px;
  display:flex;align-items:center;justify-content:center;
  font-size:26px;flex-shrink:0;
  box-shadow:0 3px 8px rgba(0,0,0,.12);
}
.audio-info{flex:1;}
.audio-title{font-weight:800;font-size:14px;color:#333;line-height:1.3;}
.audio-meta{font-size:11px;color:#888;margin-top:3px;}
.audio-play-btn{
  width:42px;height:42px;border-radius:50%;
  background:linear-gradient(135deg,#0088FF,#0044AA);
  color:white;border:none;font-size:18px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 3px 8px rgba(0,100,220,.35);cursor:pointer;flex-shrink:0;
}
.audio-play-btn:active{transform:scale(.92);}
.audio-play-btn.playing{background:linear-gradient(135deg,#FF4400,#CC2200);}

/* TTS Player bar */
#playerBar{
  display:none;position:fixed;bottom:72px;left:0;right:0;
  background:linear-gradient(135deg,#0066CC,#0044AA);
  padding:12px 16px;align-items:center;gap:12px;
  box-shadow:0 -4px 16px rgba(0,80,200,.35);
  z-index:60;border-top:2px solid rgba(255,255,255,.2);
}
#playerBar.show{display:flex;}
#playerTitle{color:white;font-weight:700;font-size:13px;flex:1;}
#playerSubtitle{color:rgba(255,255,255,.7);font-size:11px;}
.p-stop{background:rgba(255,255,255,.2);border:none;color:white;width:36px;height:36px;border-radius:50%;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   OPENING OVERLAY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#ov{display:none;position:fixed;inset:0;z-index:9999;background:linear-gradient(135deg,#FFD700,#FF8C00);flex-direction:column;align-items:center;justify-content:center;}
#ov.show{display:flex;animation:fadeI .25s ease;}
@keyframes fadeI{from{opacity:0}to{opacity:1}}
.ov-char{animation:charBounce .9s ease-in-out infinite;}
.ov-title{font-family:'Lilita One',cursive;font-size:22px;color:#CC3300;margin-top:16px;text-shadow:1px 1px 0 rgba(255,255,255,.5);}
.ov-sub{font-size:13px;color:#884400;margin-top:4px;font-weight:700;}
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â• SPLASH â•â•â•â•â•â•â•â•â•â• -->
<div id="pgSplash" class="page active">
  <div class="cloud c1"></div><div class="cloud c2"></div><div class="cloud c3"></div>
  <div class="sp-star" style="top:8%;left:8%">â­</div>
  <div class="sp-star" style="top:16%;right:10%;animation-delay:.4s;font-size:18px">âœ¨</div>
  <div class="sp-star" style="top:9%;left:48%;animation-delay:.7s">â­</div>
  <div class="sp-star" style="top:28%;left:12%;animation-delay:1s;font-size:14px">âœ¨</div>
  <div class="sp-star" style="top:20%;right:30%;animation-delay:.3s;font-size:20px">â­</div>

  <div class="sp-chars">
    <!-- 3 characters: elephant, deer, rabbit -->
    <svg width="280" height="175" viewBox="0 0 280 175">

      <!-- ELEPHANT (left) - Blue elephant with big ears -->
      <g transform="translate(0,20)">
        <!-- Body -->
        <ellipse cx="45" cy="120" rx="32" ry="28" fill="#7BB8F0"/>
        <!-- Head -->
        <circle cx="45" cy="80" r="26" fill="#7BB8F0"/>
        <!-- Big ears -->
        <ellipse cx="14" cy="76" rx="16" ry="22" fill="#6AA8E0"/>
        <ellipse cx="14" cy="76" rx="10" ry="15" fill="#FFB0C0"/>
        <ellipse cx="76" cy="76" rx="16" ry="22" fill="#6AA8E0"/>
        <ellipse cx="76" cy="76" rx="10" ry="15" fill="#FFB0C0"/>
        <!-- Trunk -->
        <path d="M40,100 Q32,115 30,125 Q29,130 34,130 Q38,130 38,124 Q40,116 46,104" fill="#7BB8F0" stroke="#6AA8E0" stroke-width="1"/>
        <!-- Tusks -->
        <ellipse cx="36" cy="100" rx="3" ry="8" fill="white" transform="rotate(-20 36 100)"/>
        <ellipse cx="54" cy="100" rx="3" ry="8" fill="white" transform="rotate(20 54 100)"/>
        <!-- Eyes -->
        <circle cx="37" cy="72" r="7" fill="white"/>
        <circle cx="53" cy="72" r="7" fill="white"/>
        <circle cx="38" cy="73" r="4" fill="#1a0a00"/>
        <circle cx="54" cy="73" r="4" fill="#1a0a00"/>
        <circle cx="39" cy="71" r="1.5" fill="white"/>
        <circle cx="55" cy="71" r="1.5" fill="white"/>
        <!-- Glasses -->
        <circle cx="37" cy="72" r="8" fill="none" stroke="#884400" stroke-width="1.5"/>
        <circle cx="53" cy="72" r="8" fill="none" stroke="#884400" stroke-width="1.5"/>
        <line x1="45" y1="72" x2="45" y2="72" stroke="#884400" stroke-width="1.5"/>
        <line x1="29" y1="72" x2="25" y2="70" stroke="#884400" stroke-width="1.5"/>
        <line x1="61" y1="72" x2="65" y2="70" stroke="#884400" stroke-width="1.5"/>
        <!-- Smile -->
        <path d="M36 88 Q45 96 54 88" stroke="#4477AA" stroke-width="2" fill="none" stroke-linecap="round"/>
        <!-- Cheeks -->
        <circle cx="26" cy="82" r="8" fill="rgba(255,150,180,.4)"/>
        <circle cx="64" cy="82" r="8" fill="rgba(255,150,180,.4)"/>
        <!-- School bag -->
        <rect x="60" y="95" width="22" height="18" rx="5" fill="#FF8800"/>
        <rect x="63" y="92" width="16" height="8" rx="3" fill="#FF6600"/>
        <circle cx="71" cy="104" r="2" fill="#FFD700"/>
        <!-- Legs -->
        <rect x="24" y="142" width="14" height="20" rx="7" fill="#6AA8E0"/>
        <rect x="52" y="142" width="14" height="20" rx="7" fill="#6AA8E0"/>
        <!-- Feet -->
        <ellipse cx="31" cy="162" rx="9" ry="5" fill="#5A98D0"/>
        <ellipse cx="59" cy="162" rx="9" ry="5" fill="#5A98D0"/>
        <!-- Bow on head -->
        <path d="M35,56 Q37,50 40,53 Q42,50 45,55" fill="#FF4488" stroke="#CC2266" stroke-width="1"/>
      </g>

      <!-- DEER (center, biggest) -->
      <g transform="translate(88,0)">
        <ellipse cx="52" cy="120" rx="36" ry="30" fill="#F4A030"/>
        <circle cx="52" cy="74" r="26" fill="#F4A030"/>
        <ellipse cx="33" cy="57" rx="8" ry="12" fill="#F4A030" transform="rotate(-20 33 57)"/>
        <ellipse cx="33" cy="57" rx="4" ry="7" fill="#F8C870" transform="rotate(-20 33 57)"/>
        <ellipse cx="71" cy="57" rx="8" ry="12" fill="#F4A030" transform="rotate(20 71 57)"/>
        <ellipse cx="71" cy="57" rx="4" ry="7" fill="#F8C870" transform="rotate(20 71 57)"/>
        <!-- Antlers -->
        <line x1="35" y1="52" x2="22" y2="28" stroke="#7B3800" stroke-width="4" stroke-linecap="round"/>
        <line x1="22" y1="28" x2="12" y2="20" stroke="#7B3800" stroke-width="3" stroke-linecap="round"/>
        <line x1="22" y1="28" x2="16" y2="13" stroke="#7B3800" stroke-width="3" stroke-linecap="round"/>
        <line x1="69" y1="52" x2="82" y2="28" stroke="#7B3800" stroke-width="4" stroke-linecap="round"/>
        <line x1="82" y1="28" x2="92" y2="20" stroke="#7B3800" stroke-width="3" stroke-linecap="round"/>
        <line x1="82" y1="28" x2="88" y2="13" stroke="#7B3800" stroke-width="3" stroke-linecap="round"/>
        <!-- Eyes big -->
        <circle cx="43" cy="70" r="9" fill="white"/>
        <circle cx="61" cy="70" r="9" fill="white"/>
        <circle cx="44" cy="71" r="5" fill="#1a0a00"/>
        <circle cx="62" cy="71" r="5" fill="#1a0a00"/>
        <circle cx="45" cy="69" r="2" fill="white"/>
        <circle cx="63" cy="69" r="2" fill="white"/>
        <ellipse cx="52" cy="82" rx="9" ry="6" fill="#D4780A"/>
        <ellipse cx="52" cy="81" rx="5" ry="3.5" fill="#BB5500"/>
        <path d="M43 87 Q52 96 61 87" stroke="#BB5500" stroke-width="2.5" fill="none" stroke-linecap="round"/>
        <circle cx="33" cy="79" r="9" fill="rgba(255,120,80,.4)"/>
        <circle cx="71" cy="79" r="9" fill="rgba(255,120,80,.4)"/>
        <!-- Scarf -->
        <path d="M30,96 Q52,104 74,96 Q72,106 52,108 Q32,106 30,96Z" fill="#FF4400" opacity=".8"/>
        <!-- Book -->
        <rect x="74" y="100" width="28" height="20" rx="4" fill="#E63200" transform="rotate(12 74 100)"/>
        <rect x="76" y="102" width="12" height="16" rx="2" fill="#FF7040" transform="rotate(12 74 100)"/>
        <text x="79" y="112" font-size="5" fill="#FFE100" transform="rotate(12 74 100)" font-weight="bold">à¤šà¤®à¥à¤ªà¤•</text>
        <!-- Legs -->
        <rect x="30" y="143" width="14" height="24" rx="7" fill="#D4881A"/>
        <rect x="60" y="143" width="14" height="24" rx="7" fill="#D4881A"/>
      </g>

      <!-- RABBIT (right) - Pink rabbit in red dress -->
      <g transform="translate(194,25)">
        <!-- Body/Dress -->
        <path d="M10,90 Q8,115 12,130 L58,130 Q62,115 60,90Z" fill="#FF6688"/>
        <ellipse cx="35" cy="92" rx="22" ry="18" fill="#F8E8FF"/>
        <!-- Head -->
        <circle cx="35" cy="62" r="22" fill="#F8E8FF"/>
        <!-- Long ears -->
        <ellipse cx="22" cy="32" rx="8" ry="22" fill="#F8E8FF"/>
        <ellipse cx="22" cy="32" rx="4" ry="14" fill="#FFB0C0"/>
        <ellipse cx="48" cy="32" rx="8" ry="22" fill="#F8E8FF"/>
        <ellipse cx="48" cy="32" rx="4" ry="14" fill="#FFB0C0"/>
        <!-- Bow on ear -->
        <path d="M44,14 Q48,8 52,13 Q55,8 58,14 Q55,18 51,16 Q48,18 44,14Z" fill="#FF4488"/>
        <!-- Eyes -->
        <circle cx="27" cy="58" r="7" fill="white"/><circle cx="43" cy="58" r="7" fill="white"/>
        <circle cx="28" cy="59" r="4" fill="#FF6699"/><circle cx="44" cy="59" r="4" fill="#FF6699"/>
        <circle cx="29" cy="57" r="1.5" fill="white"/><circle cx="45" cy="57" r="1.5" fill="white"/>
        <!-- Nose -->
        <ellipse cx="35" cy="66" rx="5" ry="4" fill="#FF8080"/>
        <!-- Whiskers -->
        <line x1="16" y1="66" x2="28" y2="67" stroke="#CC8888" stroke-width="1"/>
        <line x1="16" y1="70" x2="28" y2="69" stroke="#CC8888" stroke-width="1"/>
        <line x1="42" y1="67" x2="54" y2="66" stroke="#CC8888" stroke-width="1"/>
        <line x1="42" y1="69" x2="54" y2="70" stroke="#CC8888" stroke-width="1"/>
        <!-- Smile -->
        <path d="M29 71 Q35 78 41 71" stroke="#CC6688" stroke-width="2" fill="none" stroke-linecap="round"/>
        <!-- Cheeks -->
        <circle cx="19" cy="66" r="7" fill="rgba(255,150,180,.45)"/>
        <circle cx="51" cy="66" r="7" fill="rgba(255,150,180,.45)"/>
        <!-- Dress collar -->
        <path d="M18,90 Q35,98 52,90" stroke="#FF4466" stroke-width="2" fill="none"/>
        <!-- Dress bow -->
        <path d="M28,96 Q30,90 35,93 Q40,90 42,96 Q40,100 35,98 Q30,100 28,96Z" fill="#FFE100"/>
        <!-- Legs/feet -->
        <ellipse cx="23" cy="130" rx="10" ry="6" fill="#F8E8FF" transform="rotate(10 23 130)"/>
        <ellipse cx="47" cy="130" rx="10" ry="6" fill="#F8E8FF" transform="rotate(-10 47 130)"/>
        <!-- Balloon -->
        <circle cx="68" cy="22" r="16" fill="#CC44FF" opacity=".92"/>
        <line x1="68" y1="38" x2="60" y2="65" stroke="#8844AA" stroke-width="1.5"/>
        <text x="61" y="25" font-size="10" fill="white" font-weight="bold">ğŸŒŸ</text>
      </g>
    </svg>
  </div>

  <div style="text-align:center;position:relative;z-index:2;">
    <div class="sp-title-hi">à¤šà¤‚à¤ªà¤•</div>
    <div class="sp-title-en">Comics</div>
  </div>
  <div class="sp-dots">
    <div class="sp-dot"></div><div class="sp-dot"></div><div class="sp-dot"></div>
  </div>

  <!-- Grass -->
  <div class="sp-grass">
    <svg viewBox="0 0 400 170" preserveAspectRatio="none" width="100%" height="100%">
      <path d="M0,50 Q20,25 40,45 Q60,65 80,35 Q100,15 120,40 Q140,60 160,30 Q180,10 200,38 Q220,58 240,30 Q260,10 280,42 Q300,65 320,35 Q340,15 360,45 Q380,65 400,40 L400,170 L0,170Z" fill="#5BB320"/>
      <path d="M0,80 Q30,60 60,76 Q90,90 120,68 Q150,50 180,74 Q210,94 240,70 Q270,52 300,76 Q330,94 360,72 Q385,56 400,74 L400,170 L0,170Z" fill="#6CC929"/>
      <path d="M0,108 Q40,90 80,106 Q120,120 160,100 Q200,82 240,104 Q280,122 320,102 Q360,84 400,106 L400,170 L0,170Z" fill="#7FDB35"/>
      <circle cx="75" cy="108" r="5" fill="#FFEE00" opacity=".9"/>
      <circle cx="175" cy="100" r="4" fill="#FF88CC" opacity=".9"/>
      <circle cx="275" cy="102" r="5" fill="#FFEE00" opacity=".9"/>
      <circle cx="330" cy="88" r="3" fill="#FF6644" opacity=".85"/>
      <circle cx="125" cy="96" r="4" fill="#FF88CC" opacity=".8"/>
      <circle cx="220" cy="108" r="3" fill="#AAFF44" opacity=".8"/>
    </svg>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• HOME PAGE â•â•â•â•â•â•â•â•â•â• -->
<div id="pgHome" class="page">
  <!-- Header -->
  <div class="app-hdr">
    <div class="hdr-deco">â­</div><div class="hdr-deco2">âœ¨</div>
    <div class="hdr-icon-box">
      <svg width="34" height="38" viewBox="0 0 160 180" fill="none">
        <ellipse cx="80" cy="115" rx="42" ry="35" fill="#F4A030"/>
        <circle cx="80" cy="68" r="28" fill="#F4A030"/>
        <line x1="60" y1="44" x2="42" y2="18" stroke="#7B3800" stroke-width="6" stroke-linecap="round"/>
        <line x1="42" y1="18" x2="28" y2="10" stroke="#7B3800" stroke-width="5" stroke-linecap="round"/>
        <line x1="100" y1="44" x2="118" y2="18" stroke="#7B3800" stroke-width="6" stroke-linecap="round"/>
        <line x1="118" y1="18" x2="132" y2="10" stroke="#7B3800" stroke-width="5" stroke-linecap="round"/>
        <circle cx="70" cy="64" r="8" fill="white"/><circle cx="90" cy="64" r="8" fill="white"/>
        <circle cx="71" cy="65" r="4.5" fill="#1a0a00"/><circle cx="91" cy="65" r="4.5" fill="#1a0a00"/>
        <circle cx="72" cy="63" r="2" fill="white"/><circle cx="92" cy="63" r="2" fill="white"/>
        <ellipse cx="80" cy="79" rx="10" ry="7" fill="#D4780A"/>
        <path d="M70 84 Q80 93 90 84" stroke="#BB5500" stroke-width="2.5" fill="none" stroke-linecap="round"/>
      </svg>
    </div>
    <div style="flex:1">
      <div class="hdr-title">Champak Comics â­</div>
      <div class="hdr-sub">ğŸŒ¿ AD FREE â€¢ KIDS SAFE â€¢ FREE</div>
    </div>
    <button class="hdr-action" id="refreshBtn" onclick="refreshPage()">ğŸ”„</button>
  </div>

  <div id="homeContent">
    <!-- New Arrivals -->
    <div class="sec-hdr">
      <div class="sec-title">ğŸ†• New Arrivals</div>
      <button class="see-all-btn" onclick="showPage('pgSeeAll')">See All â†’</button>
    </div>

    <!-- Filters -->
    <div class="filters">
      <button class="fbtn active" onclick="filterComics('all',this)">ğŸŒŸ All</button>
      <button class="fbtn cat-funny off" onclick="filterComics('funny',this)">ğŸ˜„ Funny</button>
      <button class="fbtn cat-animal off" onclick="filterComics('animal',this)">ğŸ¾ Animal</button>
      <button class="fbtn cat-moral off" onclick="filterComics('moral',this)">ğŸ’¡ Moral</button>
      <button class="fbtn cat-adventure off" onclick="filterComics('adventure',this)">ğŸ•ï¸ Adventure</button>
    </div>

    <!-- Horizontal scroll -->
    <div class="h-scroll" id="horizScroll"></div>

    <!-- Audio Stories teaser -->
    <div class="audio-teaser" onclick="showPage('pgAudio')">
      <div class="at-char">
        <!-- Monkey with headphones -->
        <svg width="65" height="72" viewBox="0 0 130 144">
          <ellipse cx="65" cy="100" rx="28" ry="24" fill="#CC8833"/>
          <circle cx="65" cy="66" r="24" fill="#CC8833"/>
          <ellipse cx="40" cy="60" rx="12" ry="16" fill="#BB7722"/>
          <ellipse cx="40" cy="60" rx="7" ry="10" fill="#FFAA66"/>
          <ellipse cx="90" cy="60" rx="12" ry="16" fill="#BB7722"/>
          <ellipse cx="90" cy="60" rx="7" ry="10" fill="#FFAA66"/>
          <circle cx="58" cy="62" r="7" fill="white"/>
          <circle cx="72" cy="62" r="7" fill="white"/>
          <circle cx="59" cy="63" r="4" fill="#1a0a00"/>
          <circle cx="73" cy="63" r="4" fill="#1a0a00"/>
          <circle cx="60" cy="61" r="1.5" fill="white"/>
          <circle cx="74" cy="61" r="1.5" fill="white"/>
          <ellipse cx="65" cy="74" rx="8" ry="6" fill="#AA6611"/>
          <path d="M57 80 Q65 88 73 80" stroke="#8B4400" stroke-width="2" fill="none" stroke-linecap="round"/>
          <circle cx="46" cy="70" r="7" fill="rgba(200,100,50,.4)"/>
          <circle cx="84" cy="70" r="7" fill="rgba(200,100,50,.4)"/>
          <!-- Headphones -->
          <path d="M34,58 Q34,30 65,30 Q96,30 96,58" fill="none" stroke="#1155FF" stroke-width="6" stroke-linecap="round"/>
          <rect x="26" y="52" width="16" height="22" rx="8" fill="#1155FF"/>
          <rect x="28" y="55" width="12" height="16" rx="6" fill="#4488FF"/>
          <rect x="88" y="52" width="16" height="22" rx="8" fill="#1155FF"/>
          <rect x="90" y="55" width="12" height="16" rx="6" fill="#4488FF"/>
          <rect x="50" y="118" width="13" height="22" rx="6" fill="#BB7722"/>
          <rect x="67" y="118" width="13" height="22" rx="6" fill="#BB7722"/>
        </svg>
      </div>
      <div class="at-text">
        <h3>ğŸ§ Audio Stories</h3>
        <p>Sunke seekho! Text-to-speech<br>se stories suno Hindi mein</p>
        <button class="at-play" onclick="event.stopPropagation();showPage('pgAudio')">â–¶ Sunna Shuru Karo</button>
      </div>
    </div>

    <!-- Library -->
    <div class="sec-hdr">
      <div class="sec-title">ğŸ“š Library</div>
      <button class="see-all-btn" onclick="showPage('pgSeeAll')">See All â†’</button>
    </div>
    <div class="lib-grid" id="libGrid"></div>
    <div style="height:12px;"></div>
  </div>

  <!-- Bottom Nav -->
  <div id="bottomNav">
    <div class="nav-item active" onclick="setNav(this);showPage('pgHome')">
      <div class="nav-ico">ğŸ </div>
      <div class="nav-label">Home</div>
    </div>
    <div class="nav-item" onclick="setNav(this);showPage('pgSeeAll')">
      <div class="nav-ico">ğŸ“š</div>
      <div class="nav-label">Comics</div>
    </div>
    <div class="nav-item" onclick="setNav(this);showPage('pgAudio')">
      <div class="nav-ico">ğŸ§</div>
      <div class="nav-label">Audio</div>
    </div>
    <div class="nav-item" onclick="setNav(this)">
      <div class="nav-ico">âš™ï¸</div>
      <div class="nav-label">More</div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• SEE ALL PAGE â•â•â•â•â•â•â•â•â•â• -->
<div id="pgSeeAll" class="page">
  <div class="app-hdr">
    <div class="hdr-deco">â­</div>
    <button class="hdr-back" onclick="showPage('pgHome')">â†</button>
    <div style="flex:1">
      <div class="hdr-title">ğŸ“š Saari Comics</div>
      <div class="hdr-sub" id="allCount"></div>
    </div>
  </div>
  <div id="seeAllContent">
    <div class="all-grid" id="allGrid"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• AUDIO PAGE â•â•â•â•â•â•â•â•â•â• -->
<div id="pgAudio" class="page">
  <div class="app-hdr">
    <button class="hdr-back" onclick="showPage('pgHome');stopAudio()">â†</button>
    <div style="flex:1">
      <div class="hdr-title">ğŸ§ Audio Stories</div>
      <div class="hdr-sub">Hindi Text-to-Speech</div>
    </div>
  </div>
  <div id="audioContent">
    <div class="audio-banner">
      <div class="audio-banner-char">
        <svg width="70" height="78" viewBox="0 0 130 144">
          <ellipse cx="65" cy="100" rx="28" ry="24" fill="#CC8833"/>
          <circle cx="65" cy="66" r="24" fill="#CC8833"/>
          <ellipse cx="40" cy="60" rx="12" ry="16" fill="#BB7722"/>
          <ellipse cx="40" cy="60" rx="7" ry="10" fill="#FFAA66"/>
          <ellipse cx="90" cy="60" rx="12" ry="16" fill="#BB7722"/>
          <ellipse cx="90" cy="60" rx="7" ry="10" fill="#FFAA66"/>
          <circle cx="58" cy="62" r="7" fill="white"/>
          <circle cx="72" cy="62" r="7" fill="white"/>
          <circle cx="59" cy="63" r="4" fill="#1a0a00"/>
          <circle cx="73" cy="63" r="4" fill="#1a0a00"/>
          <circle cx="60" cy="61" r="1.5" fill="white"/>
          <circle cx="74" cy="61" r="1.5" fill="white"/>
          <ellipse cx="65" cy="74" rx="8" ry="6" fill="#AA6611"/>
          <path d="M57 80 Q65 88 73 80" stroke="#8B4400" stroke-width="2" fill="none" stroke-linecap="round"/>
          <path d="M34,58 Q34,30 65,30 Q96,30 96,58" fill="none" stroke="#1155FF" stroke-width="6" stroke-linecap="round"/>
          <rect x="26" y="52" width="16" height="22" rx="8" fill="#1155FF"/>
          <rect x="88" y="52" width="16" height="22" rx="8" fill="#1155FF"/>
          <rect x="50" y="118" width="13" height="22" rx="6" fill="#BB7722"/>
          <rect x="67" y="118" width="13" height="22" rx="6" fill="#BB7722"/>
        </svg>
      </div>
      <div>
        <div class="audio-banner">
          <div class="audio-banner-char" style="display:none"></div>
          <div>
            <h2 style="font-family:'Lilita One',cursive;color:#FFE566;font-size:20px;">ğŸ§ Sunke Seekho!</h2>
            <p style="color:rgba(255,255,255,.85);font-size:12px;margin-top:4px;">Phone ki awaaz se Hindi stories suno<br>aur stories ka mazaa lo!</p>
          </div>
        </div>
      </div>
    </div>

    <div id="audioList"></div>
    <div style="height:100px;"></div>
  </div>

  <!-- Player bar -->
  <div id="playerBar">
    <span style="font-size:20px">ğŸ§</span>
    <div style="flex:1">
      <div id="playerTitle">Story chal rahi hai...</div>
      <div id="playerSubtitle" style="color:rgba(255,255,255,.7);font-size:11px;">Hindi Audio</div>
    </div>
    <button class="p-stop" onclick="stopAudio()">â¹</button>
  </div>
</div>

<!-- Opening overlay -->
<div id="ov">
  <div class="ov-char">
    <svg width="110" height="122" viewBox="0 0 160 180" fill="none">
      <ellipse cx="80" cy="115" rx="42" ry="35" fill="#F4A030"/>
      <circle cx="80" cy="68" r="28" fill="#F4A030"/>
      <ellipse cx="57" cy="48" rx="9" ry="13" fill="#F4A030" transform="rotate(-20 57 48)"/>
      <ellipse cx="103" cy="48" rx="9" ry="13" fill="#F4A030" transform="rotate(20 103 48)"/>
      <line x1="60" y1="44" x2="42" y2="18" stroke="#7B3800" stroke-width="5" stroke-linecap="round"/>
      <line x1="42" y1="18" x2="28" y2="10" stroke="#7B3800" stroke-width="4" stroke-linecap="round"/>
      <line x1="100" y1="44" x2="118" y2="18" stroke="#7B3800" stroke-width="5" stroke-linecap="round"/>
      <line x1="118" y1="18" x2="132" y2="10" stroke="#7B3800" stroke-width="4" stroke-linecap="round"/>
      <circle cx="70" cy="64" r="8" fill="white"/><circle cx="90" cy="64" r="8" fill="white"/>
      <circle cx="71" cy="65" r="4.5" fill="#1a0a00"/><circle cx="91" cy="65" r="4.5" fill="#1a0a00"/>
      <ellipse cx="80" cy="79" rx="10" ry="7" fill="#D4780A"/>
      <path d="M70 84 Q80 94 90 84" stroke="#BB5500" stroke-width="2.5" fill="none" stroke-linecap="round"/>
      <rect x="58" y="145" width="14" height="28" rx="7" fill="#D4881A"/>
      <rect x="88" y="145" width="14" height="28" rx="7" fill="#D4881A"/>
    </svg>
  </div>
  <div class="ov-title">Comic khul rahi hai! ğŸ“–</div>
  <div class="ov-sub">Ek second ruko...</div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ğŸ“š COMICS â€” YAHAN ADD KARO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var COMICS = [
  {
    id: 1,
    name: "Champak Hindi - Sep 2019",
    flipUrl: "https://online.fliphtml5.com/ufmtz/dtjr/",
    pages: 50,
    date: "Sep 2019",
    category: "funny",
    catLabel: "FUNNY\nSTORIES",
    catColor: "#00AA33"
  }
  // ,{ id:2, name:"Comic 2", flipUrl:"...", pages:48, date:"Oct 2019", category:"animal", catLabel:"ANIMAL\nTALES", catColor:"#0066CC" }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ğŸ§ AUDIO STORIES â€” YAHAN ADD KARO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var AUDIO_STORIES = [
  {
    id: 1,
    title: "Champak aur Jadu ki Anguthi",
    text: "Ek baar ki baat hai. Champak jungle mein rehta tha. Woh bahut samajhdar aur accha dost tha. Ek din usne ek jadu ki anguthi dhundhi. Anguthi ne ek ichha puri karne ka vaada kiya. Champak ne socha aur kaha, meri ichha hai ki jungle ke sabhi dost khush rahein. Anguthi chamak uthi aur poore jungle mein khushiyan bhar gayi. Champak samajh gaya ki dusron ki khushi mein hi apni khushi hai.",
    duration: "2 min",
    icon: "ğŸ’",
    bg: "#FF8800"
  },
  {
    id: 2,
    title: "Motu Hathi ki Seekh",
    text: "Motu hathi bahut mota tha. Woh roz bahut zyada khata tha. Ek din doctor ne kaha, beta thoda exercise karo. Motu ne socha aur jungle mein walk pe gaya. Chidiya, gilahari, aur khargosh bhi saath aaye. Roz exercise karne se Motu sehatmand ho gaya. Dosto ka saath bahut zaroori hota hai.",
    duration: "1.5 min",
    icon: "ğŸ˜",
    bg: "#0088FF"
  },
  {
    id: 3,
    title: "Bunny ka Birthday",
    text: "Bunny khargosh ka birthday tha. Par koi usse yaad nahi tha. Woh bahut udaas tha. Achanak jungle ke dost aaaye. Champak, gilahari aur hathi ne ek surprise party di. Cake, gane aur nache ne sara din khush kar diya. Bunny samajh gaya ki sacche dost hamesha yaad rakhte hain.",
    duration: "1.5 min",
    icon: "ğŸ°",
    bg: "#AA44FF"
  },
  {
    id: 4,
    title: "Imandari ka Inam",
    text: "Kalu langur ko ek sone ka sikka mila. Woh bahut khush hua. Par usne socha yeh kisi ka gira hoga. Usne poore jungle mein dhundha. Pata chala yeh Ramu gilahari ka tha. Kalu ne sikka wapas kar diya. Sabne Kalu ki tarif ki. Raja ne Kalu ko inam diya. Imandari ka fal hamesha meetha hota hai.",
    duration: "2 min",
    icon: "ğŸ†",
    bg: "#CC8800"
  }
];
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var activeFilter = 'all';
var COLORS = ['#FF6B00','#0066CC','#009944','#8B00CC','#CC6600','#CC0000','#007788'];

function getThumb(u){ try{return u.replace(/\/$/,'')+'/files/thumb/1.jpg';}catch(e){return '';} }

function getFiltered(){
  var list = activeFilter==='all' ? COMICS.slice() : COMICS.filter(function(c){return c.category===activeFilter;});
  return list.sort(function(a,b){return b.id-a.id;});
}

function makeFallback(color,text){
  return 'this.style.display=\'none\';var n=this.nextElementSibling;n.style.cssText=\'display:flex;background:'+color+'\';';
}

function renderHome(){
  // Horizontal
  var hEl = document.getElementById('horizScroll');
  hEl.innerHTML='';
  var list = getFiltered();
  if(!list.length){ hEl.innerHTML='<div style="padding:16px;color:#888;font-size:13px;">Is category mein koi comic nahi.</div>'; }
  list.forEach(function(c,i){
    var col=COLORS[i%COLORS.length], th=getThumb(c.flipUrl);
    var d=document.createElement('div'); d.className='hcard'; d.style.animationDelay=(i*.08)+'s';
    d.innerHTML='<div class="hcard-thumb"><img src="'+th+'" loading="lazy" onerror="'+makeFallback(col,'ğŸ“•')+'"><div class="hcard-fb" style="background:'+col+'">ğŸ“•</div></div><div class="hcard-info"><div class="hcard-name">'+c.name+'</div><button class="read-btn">READ</button></div>';
    d.onclick=function(){openComic(c);}; hEl.appendChild(d);
  });

  // Library
  var lEl = document.getElementById('libGrid');
  lEl.innerHTML='';
  COMICS.slice().sort(function(a,b){return a.id-b.id;}).forEach(function(c,i){
    var col=COLORS[i%COLORS.length], th=getThumb(c.flipUrl);
    var d=document.createElement('div'); d.className='lcard'; d.style.animationDelay=(i*.08)+'s';
    d.innerHTML='<div class="lcard-thumb"><img src="'+th+'" loading="lazy" onerror="'+makeFallback(col,'ğŸ“•')+'"><div class="lcard-fb" style="background:'+col+'">ğŸ“•</div><div class="lcat">'+(c.catLabel||'').replace('\n','<br>')+'</div></div><div class="lcard-info"><div class="lcard-name">'+c.name+'</div><button class="read-btn" style="font-size:10px;padding:4px;">READ</button></div>';
    d.onclick=function(){openComic(c);}; lEl.appendChild(d);
  });
}

function renderSeeAll(){
  var el=document.getElementById('allGrid');
  el.innerHTML='';
  document.getElementById('allCount').textContent=COMICS.length+' comics available';
  COMICS.slice().sort(function(a,b){return b.id-a.id;}).forEach(function(c,i){
    var col=COLORS[i%COLORS.length], th=getThumb(c.flipUrl);
    var d=document.createElement('div'); d.className='acard'; d.style.animationDelay=(i*.08)+'s';
    d.innerHTML='<div class="acard-thumb"><img src="'+th+'" loading="lazy" onerror="'+makeFallback(col,'ğŸ“•')+'"><div class="acard-fb" style="background:'+col+'">ğŸ“•</div><div class="acard-ov"></div>'+(c.date?'<div class="acard-date">ğŸ“… '+c.date+'</div>':'')+(c.pages?'<div class="acard-pages">'+c.pages+' pages</div>':'')+'</div><div class="acard-info"><div class="acard-name">'+c.name+'</div><button class="read-btn">ğŸ“– READ NOW</button></div>';
    d.onclick=function(){openComic(c);}; el.appendChild(d);
  });
}

function renderAudio(){
  var el=document.getElementById('audioList');
  el.innerHTML='';
  AUDIO_STORIES.forEach(function(s,i){
    var d=document.createElement('div'); d.className='audio-card'; d.style.animationDelay=(i*.08)+'s';
    d.innerHTML='<div class="audio-icon" style="background:'+s.bg+'">'+s.icon+'</div><div class="audio-info"><div class="audio-title">'+s.title+'</div><div class="audio-meta">â± '+s.duration+' â€¢ Hindi</div></div><button class="audio-play-btn" id="abtn'+s.id+'" onclick="event.stopPropagation();playAudio('+s.id+')">â–¶</button>';
    d.onclick=function(){playAudio(s.id);}; el.appendChild(d);
  });
}

// â”€â”€ Audio TTS â”€â”€
var currentSpeech=null, currentAudioId=null;
function playAudio(id){
  if(!window.speechSynthesis){ alert('Aapke browser mein audio support nahi hai!'); return; }
  stopAudio();
  var story = AUDIO_STORIES.find(function(s){return s.id===id;});
  if(!story) return;
  currentAudioId=id;
  var utt=new SpeechSynthesisUtterance(story.text);
  utt.lang='hi-IN'; utt.rate=0.85; utt.pitch=1.1;
  // Fallback to en-IN if hi-IN not available
  var voices=window.speechSynthesis.getVoices();
  var hiVoice=voices.find(function(v){return v.lang==='hi-IN';});
  if(hiVoice) utt.voice=hiVoice;
  utt.onend=function(){stopAudio();};
  currentSpeech=utt;
  window.speechSynthesis.speak(utt);
  document.getElementById('playerTitle').textContent=story.title;
  document.getElementById('playerBar').classList.add('show');
  var btn=document.getElementById('abtn'+id);
  if(btn){btn.textContent='â¸';btn.classList.add('playing');}
}
function stopAudio(){
  window.speechSynthesis&&window.speechSynthesis.cancel();
  document.getElementById('playerBar').classList.remove('show');
  if(currentAudioId){
    var btn=document.getElementById('abtn'+currentAudioId);
    if(btn){btn.textContent='â–¶';btn.classList.remove('playing');}
  }
  currentSpeech=null; currentAudioId=null;
}

// â”€â”€ Nav â”€â”€
function showPage(id){
  document.querySelectorAll('.page').forEach(function(p){p.classList.remove('active');});
  document.getElementById(id).classList.add('active');
  if(id==='pgSeeAll') renderSeeAll();
  if(id==='pgAudio') renderAudio();
}
function setNav(el){
  document.querySelectorAll('.nav-item').forEach(function(n){n.classList.remove('active');});
  el.classList.add('active');
}
function filterComics(cat,btn){
  activeFilter=cat;
  document.querySelectorAll('.fbtn').forEach(function(b){
    b.classList.remove('active');
    var orig=b.className.match(/cat-\w+/);
    if(!orig) b.classList.add('off');
    else { b.classList.remove('off'); }
  });
  btn.classList.add('active');
  btn.classList.remove('off');
  renderHome();
}
function openComic(c){
  document.getElementById('ov').classList.add('show');
  setTimeout(function(){window.location.href=c.flipUrl;},1000);
}
function refreshPage(){
  var b=document.getElementById('refreshBtn');
  b.classList.add('spin');
  setTimeout(function(){b.classList.remove('spin');renderHome();},700);
}

// â”€â”€ Splash â”€â”€
setTimeout(function(){
  document.getElementById('pgSplash').classList.add('hide');
  setTimeout(function(){
    document.getElementById('pgSplash').classList.remove('active');
    document.getElementById('pgSplash').style.display='none';
    showPage('pgHome');
    renderHome();
  },900);
},3000);

// Preload voices for TTS
window.speechSynthesis&&window.speechSynthesis.getVoices();
</script>
</body>
</html>
